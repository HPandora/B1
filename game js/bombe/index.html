<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Mon premier jeu avec JSGlib !</title>
		<script type="text/javascript" src="JSGlib-min.js"></script>
		<script type="text/javascript" src="class/controleur.class.js"></script>
		<script type="text/javascript" src="class/monstre.class.js"></script>
		<script type="text/javascript" src="class/object.class.js"></script>
		<script type="text/javascript">
		window.onload=function()
			{
				/* chrono */
				var centi=0 // initialise les dixtièmes
				var secon=0 //initialise les secondes
				var minu=0 //initialise les minutes
				function chrono(){
					centi++; //incrémentation des dixièmes de 1
					if (centi>9){centi=0;secon++} //si les dixièmes > 9, on les réinitialise à 0 et on incrémente les secondes de 1
					if (secon>59){secon=0;minu++} //si les secondes > 59, on les réinitialise à 0 et on incrémente les minutes de 1
					
					compte=setTimeout('chrono()',100) ;//la fonction est relancée tous les 10° de secondes
					document.getElementsByTagName("canvas").innerHTML ='Vous avez survécu '+minu+' minute, '+secon+' seconde et '+centi+' centiéme. GG!'; //on affiche le chrono
				}
				/* chrono */

				Game.setRooms([new Room(256,384, 'background')]); 

				Game.gameStart=function(){
						
						Game.instanceCreate(0,0,Controleur);

						//Game.instanceCreate(118,256,Bombe);
						//Game.instanceCreate(260,300,Viande);
						//Game.instanceCreate(320,300,Viande);
						//Game.instanceCreate(380,300,Viande);
					};

				Game.loadAndRun('jeu',{
					/*sound*/
					//'gameOver':'sound/game_over.mp3',
					/*sound*/
					'background': 'sprites/background.png',
					'spriteBombe': 'sprites/bombe.png',
					'spriteFeu': 'sprites/feu.png'
					//'spriteMonster': 'sprites/redmonster.png',
					//'spriteViande': 'sprites/viande.png'
				});
			};
		</script>
	</head>
	<body>
		<style type="text/css">
			canvas{
				cursor: none;
			}
		</style>
		<div id="chrono"></div>
		<canvas id="jeu" style="border: 3px solid #000;">
			<b>Oh, votre navigateur n'est pas capable d'afficher le jeu...<br />
			Avez-vous déjà essayé <a href="http://www.mozilla.com/fr/firefox/">Mozilla
			Firefox</a>, <a href="http://www.opera.com/">Opera</a> ou encore
			<a href="http://www.google.com/chrome/">Google Chrome</a> ?</b>
		</canvas>
	</body>
</html>